---
import { first, get } from "lodash-es";
import Button from "$/components/button.astro";
import type { HeaderResponse } from "$/types/strapi.type";
import { api } from "$/utils/client.util";

type Props = {
  className?: string;
};

const { className } = Astro.props;

const getHeaders = await api<HeaderResponse>("/headers");
const header = first(get(getHeaders, "data"));

const button = get(header, "button");
const menuItems = get(header, "menu");
---

<nav class:list={className}>
  <div class="absolute top-0 p-4 w-full">
    {button && <Button {...button} className="w-full font-semibold" />}
  </div>
</nav>
