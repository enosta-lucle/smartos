---
import { range } from "lodash-es";
import IconFlash from "$/assets/flash.svg";
import Icon from "$/components/icon.astro";
import type { Media } from "$/types/strapi.type";

type Props = {
  class?: string;
  items?: Array<{
    icon: string;
    title: string;
    logos: Array<Media>;
  }>;
};

const { items = [] } = Astro.props;
---

<section class:list={["bg-secondary bg-repeat bg-contain", "py-15.5", Astro.props.class]}>
  <h2 class="font-bold text-2xl text-center text-white">Integrations</h2>

  <div class="flex justify-center">
    <div class:list={["carousel carousel-center max-w-full mt-12"]}>
      {
        items?.map(({ icon, logos, title }, idx) => (
          <div
            data-aos="fade-left"
            data-aos-delay={idx * 100}
            class:list={["carousel-item", "bg-cover", "w-63 h-78 mx-6 rounded-md p-4 pb-8 flex flex-col"]}
          >
            <Icon src={icon} class="size-6 text-white" />
            <h3 class="font-bold text-white text-lg mt-2">{title}</h3>

            <div class="grid grid-cols-2 gap-8 w-max mt-auto">
              {logos.map((logo) => (
                <img src={logo.url} alt={logo.alternativeText} class="w-23.5 h-7.5 object-center" />
              ))}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  section {
    background-image: url(/images/pattern.png);
  }

  .carousel-item {
    background-image: url(/images/bg-card-integrate.png);
  }
</style>
